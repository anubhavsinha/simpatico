<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Simpatico: MpiSendRecv.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simpatico&#160;<span id="projectnumber">v1.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_1f5833e5a6ae4f3b158cdaf1cc06a4a1.html">src</a>      </li>
      <li class="navelem"><a class="el" href="dir_1ac4cd60fc166a1e0eba5ea680be1316.html">util</a>      </li>
      <li class="navelem"><a class="el" href="dir_b0d0393c10d90299510dae2a295a093c.html">mpi</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>MpiSendRecv.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>This file contains templates for global functions send&lt;T&gt;, recv&lt;T&gt; and bcast&lt;T&gt;.  
<a href="#_details">More...</a></p>
<div class="textblock"><code>#include &lt;util/global.h&gt;</code><br/>
<code>#include &lt;util/mpi/MpiTraits.h&gt;</code><br/>
<code>#include &lt;util/containers/DArray.h&gt;</code><br/>
<code>#include &lt;util/containers/DMatrix.h&gt;</code><br/>
</div>
<p><a href="MpiSendRecv_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceUtil.html">Util</a></td></tr>

<p><tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Utility classes for scientific computation. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#ab89acd97fcb3b5b862cf5d3d3411c701">Util::send</a> (MPI::Comm &amp;comm, T &amp;data, int dest, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a single T value.  <a href="#ab89acd97fcb3b5b862cf5d3d3411c701"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#a246009a1146ff0da64e1134835b7236c">Util::recv</a> (MPI::Comm &amp;comm, T &amp;data, int source, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a single T value.  <a href="#a246009a1146ff0da64e1134835b7236c"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#ac573d482a8c23319a9a178d098084807">Util::bcast</a> (MPI::Intracomm &amp;comm, T &amp;data, int root)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast a single T value.  <a href="#ac573d482a8c23319a9a178d098084807"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#ab260560a954c580c111bc43889c7b02d">Util::send</a> (MPI::Comm &amp;comm, T *array, int count, int dest, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a C-array of T values.  <a href="#ab260560a954c580c111bc43889c7b02d"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#aa05fe96cc592fb8c8602dbc2de425330">Util::recv</a> (MPI::Comm &amp;comm, T *array, int count, int source, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a C-array of T objects.  <a href="#aa05fe96cc592fb8c8602dbc2de425330"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#a17692180f6c210c0746958d9a336d02b">Util::bcast</a> (MPI::Intracomm &amp;comm, T *array, int count, int root)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast a C-array of T objects.  <a href="#a17692180f6c210c0746958d9a336d02b"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#ae65ddce2c36520f0ac57460badf9bcc3">Util::send</a> (MPI::Comm &amp;comm, DArray&lt; T &gt; &amp;array, int count, int dest, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a DArray&lt;T&gt; container.  <a href="#ae65ddce2c36520f0ac57460badf9bcc3"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#a30ef436bd4d29ff49c212dc889679bac">Util::recv</a> (MPI::Comm &amp;comm, DArray&lt; T &gt; &amp;array, int count, int source, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a DArray&lt;T&gt; container.  <a href="#a30ef436bd4d29ff49c212dc889679bac"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#a19eadc57aa344979a8f24aa2c0ab8d09">Util::bcast</a> (MPI::Intracomm &amp;comm, DArray&lt; T &gt; &amp;array, int count, int root)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast a DArray&lt;T&gt; container.  <a href="#a19eadc57aa344979a8f24aa2c0ab8d09"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#a00e79132f9b7f867396dcf038fb83c6c">Util::send</a> (MPI::Comm &amp;comm, DMatrix&lt; T &gt; &amp;matrix, int m, int n, int dest, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a DMatrix&lt;T&gt; container.  <a href="#a00e79132f9b7f867396dcf038fb83c6c"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#ae6b19914f3345896f13885306218c4da">Util::recv</a> (MPI::Comm &amp;comm, DMatrix&lt; T &gt; &amp;matrix, int m, int n, int source, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a DMatrix&lt;T&gt; container.  <a href="#ae6b19914f3345896f13885306218c4da"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#a74759338b38193517119a6406bc1dbf5">Util::bcast</a> (MPI::Intracomm &amp;comm, DMatrix&lt; T &gt; &amp;matrix, int m, int n, int root)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast a DMatrix&lt;T&gt; container.  <a href="#a74759338b38193517119a6406bc1dbf5"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#a55b586a405de158548369cd9f3088303">Util::send&lt; bool &gt;</a> (MPI::Comm &amp;comm, bool &amp;data, int dest, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicit specialization of send for bool data.  <a href="#a55b586a405de158548369cd9f3088303"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#afc76c7e95801c3ecdb0fe1029685a40d">Util::recv&lt; bool &gt;</a> (MPI::Comm &amp;comm, bool &amp;data, int source, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicit specialization of recv for bool data.  <a href="#afc76c7e95801c3ecdb0fe1029685a40d"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#a3a7a66577ef9579290eb9d90e7e7d205">Util::bcast&lt; bool &gt;</a> (MPI::Intracomm &amp;comm, bool &amp;data, int root)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicit specialization of bcast for bool data.  <a href="#a3a7a66577ef9579290eb9d90e7e7d205"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#ab3dd0b52b83a04d0db7ddf968c339113">Util::send&lt; std::string &gt;</a> (MPI::Comm &amp;comm, std::string &amp;data, int dest, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicit specialization of send for std::string data.  <a href="#ab3dd0b52b83a04d0db7ddf968c339113"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#af8c652955ff2fa2a6b8bd6aee52ec4f6">Util::recv&lt; std::string &gt;</a> (MPI::Comm &amp;comm, std::string &amp;data, int source, int tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicit specialization of recv for std::string data.  <a href="#af8c652955ff2fa2a6b8bd6aee52ec4f6"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceUtil.html#aa98e9d32adbe0df0d47199c9f746eb1f">Util::bcast&lt; std::string &gt;</a> (MPI::Intracomm &amp;comm, std::string &amp;data, int root)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicit specialization of bcast for std::string data.  <a href="#aa98e9d32adbe0df0d47199c9f746eb1f"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This file contains templates for global functions send&lt;T&gt;, recv&lt;T&gt; and bcast&lt;T&gt;. </p>
<p>These are wrappers for the MPI send, recv (receive), and bcast (broadcast) functions. Overloaded forms of these functions are provided to transmit single values and arrays. The main difference between the wrappers and the underlying MPI functions is that the wrapper functions do not require an MPI type handle as a parameter. Instead, the MPI type associated with C++ type T (the template parameter) is inferred by the function implementations, by methods that are described below. The most important advantage of this is that it allows the wrapper functions to be used within other templates that take type T as a template parameter. The corresponding MPI methods cannot be used in generic templates because they require MPI type handle parameters that have different values for different date types.</p>
<p>The implementation of the templates send&lt;T&gt;, recv&lt;T&gt;, bcast&lt;T&gt; for single values of type T rely on the existence of an associated explicit specialization of the class template MpiTraits&lt;typename T&gt;. If it exists, the class MpiTraits&lt;T&gt; maps C++ type T onto an associated MPI type. Each specialization MpiTraits&lt;T&gt; has a static member MpiTraits&lt;T&gt;::type that contains an opaque handle for the MPI type associated with C++ type T. Explicit specializations for the most common built-in C++ types are defined in <a class="el" href="MpiTraits_8h_source.html">MpiTraits.h</a>.</p>
<p>The send&lt;T&gt;, recv&lt;T&gt;, and bcast&lt;T&gt; templates can also be used to transmit instances of a user defined class T if an appropriate MPI type exists. To make this work, the user must define and commit an associated user-defined MPI data type, and also define an explicit specialization MpiTraits&lt;T&gt; to associate this MPI type with C++ type T. Specialized MPI data types and MpiTraits classes for <a class="el" href="classUtil_1_1Vector.html" title="A Vector is a Cartesian vector.">Util::Vector</a> and <a class="el" href="classUtil_1_1Vector.html" title="A Vector is a Cartesian vector.">Util::Vector</a> are defined in the header and implementation files for these classes. User defined MPI types must be committed before they can be used.</p>
<p>Explicit specializations of send&lt;T&gt;, recv&lt;T&gt; and bcast&lt;T&gt; may also be provided for some types for which the algorithm based on MpiTraits is awkward or unworkable. Explicit specializations are declared in this file for bool and std::string. The implementations of send&lt;T&gt; recv&lt;T&gt;, and bcast&lt;T&gt; for T=bool transmit boolean values as integers. The implementations for T = std::string transmit strings as character arrays. No MpiTraits classes are needed or provided for bool or std::string, because the compiler will always use these explicit specializations, which do not rely on MpiTraits classes, rather than the main function templates. It may also be more convenient for some user-defined classes to provide explicit specializations of these three functions, rather than defining an associated MPI type and MpiTraits specialization. The templates defined here can be used to transmit instances of type T either if: (i) Explicit specializations are defined for these three functions, or (ii) an associated MpiTraits class and MPI data type are defined.</p>
<p>Overloaded forms of send&lt;T&gt;, recv&lt;T&gt;, and bcast&lt;T&gt; are provided to transmit entire C arrays of data and DArray&lt;T&gt; containers. These functions send the data in one transmission, as a contiguous buffer, if an MPI type is available, but send each element in a separate transmission if no MpiType exists but an explicit specialization exists for the required scalar form of send, recv, or bcast. </p>

<p>Definition in file <a class="el" href="MpiSendRecv_8h_source.html">MpiSendRecv.h</a>.</p>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Jul 4 2012 00:11:20 for Simpatico by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
