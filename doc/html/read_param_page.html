<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Simpatico: readParam() Methods</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simpatico&#160;<span id="projectnumber">v1.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">Simpatico - Simulation Package for Polymer and Molecular Liquids</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>readParam() Methods </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p>The format of the parameter file (discussed in <a class="el" href="param_page.html">Parameter File</a>) consists of a set of nested blocks, in which each block contains the data required to initialize an instance of a particular class. Each class that reads data from the parameter file is derived from the <a class="el" href="classUtil_1_1ParamComposite.html" title="An object that can read multiple parameters from file.">Util::ParamComposite</a> base class, and must provide an implementation of the virtual <a class="el" href="classUtil_1_1ParamComposite.html#a1a5c30a9916a5392fedc26f93b8c8724" title="Read all parameters from an input stream.">Util::ParamComposite::readParam()</a> method, which has a signature </p>
<div class="fragment"><pre class="fragment">   <span class="keywordtype">void</span> readParam(std::istream&amp; in);
</pre></div><p> The format of the associated parameter file block is defined by the implementation of the readParam method. The source code for the readParam() method of the associated class is thus the most reliable documentation of the file format for a parameter file block. It is thus useful for users (as well as developers) to be able to read the implementation of a readParam() method, so that they can check the source code to resolve any questions about the file format.</p>
<p>The implementation of a readParam() method typically uses a several protected methods that are inherited from the parent <a class="el" href="classUtil_1_1ParamComposite.html" title="An object that can read multiple parameters from file.">Util::ParamComposite</a> class. These are: </p>
<ul>
<li>
read &lt; T &gt;(std::istream&amp; in, const char* label, T&amp; data) is a method template that reads an single parameter of type T.  </li>
<li>
readParamComposite(std::istream&amp; in, ParamComposite&amp; child) invokes the readParam() method of a child ParamComposite object.  </li>
<li>
readBegin(std::istream&amp; in, const char* label) reads the opening line of a parameter block.  </li>
<li>
readEnd(std::istream&amp; in) reads the closing bracket of a parameter block.  </li>
</ul>
<p>In these methods, the parameter "in" represents an input stream. The parameter "label" is a string literal that represents the expect value of the label string for a parameter or a parameter block. Other read* methods to read parameters that represent arrays and matrices are discussed in the class documentation for <a class="el" href="classUtil_1_1ParamComposite.html" title="An object that can read multiple parameters from file.">Util::ParamComposite</a>.</p>
<p>As an example, consider a class A that has an int member variable var1_, a double member var2_, and a member thingy_ that is an instance of another class B: </p>
<div class="fragment"><pre class="fragment">   <span class="keyword">using</span> namepace Util;

   <span class="keyword">class </span>A : <span class="keyword">public</span> ParamComposite 
   {
   
   <span class="keyword">public</span>:
   
      <span class="comment">// other methods</span>
   
      <span class="keywordtype">void</span> readParam(std::istream&amp; in);
   
      <span class="comment">// other methods</span>
   
   <span class="keyword">private</span>:
   
      <span class="keywordtype">int</span>    var1_;
      <span class="keywordtype">double</span> var2_;
      B      thingy_;
   }
</pre></div><p> We assume here that B is a also subclass of ParamComposite, which is associated with a nested subblock in the parameter file format for class A.</p>
<p>The parameter block format for class A might look like this: </p>
<div class="fragment"><pre class="fragment">A{
  var1      1
  var2    1.5
  B{
    ...
  }
}
</pre></div><p> where B{ ... } represents the (unspecified) file format for class B.</p>
<p>The minimum implementation of A::readParam() required to parse this file format is show below: </p>
<div class="fragment"><pre class="fragment">   <span class="keywordtype">void</span> A::readParam(std::istream&amp; in)
   {
      readBegin(in,<span class="stringliteral">&quot;A&quot;</span>);
      read&lt;int&gt;(in, <span class="stringliteral">&quot;var1&quot;</span>, var1_);
      read&lt;double&gt;(in, <span class="stringliteral">&quot;var2&quot;</span>, var2_);
      readParamComposite(in, thingy_);
      readEnd(in);
   }
</pre></div><p> For a real class, the implementation of readParam() might also contain code to validate input, allocate any required memory, and do whatever else is required to initialize an instance of A.</p>
<p>The expected label strings "A", "var1", and "var2" are all passed as string literals to the relevant read* methods. Each of these methods throws an Exception, and thereby abort program execution, if the expected label is not found.</p>
<ul>
<li>
<a class="el" href="test_page.html">Unit Tests</a> (Prev)  </li>
<li>
<a class="el" href="developer_page.html">Developer Information</a> (Up)  </li>
<li>
<a class="el" href="data_page.html">Data Structures (mcSim and mdSim)</a> (Next)  </li>
</ul>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Sat Sep 1 2012 12:15:15 for Simpatico by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
