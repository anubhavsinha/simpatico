<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Simpatico: Preprocessor macros</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simpatico&#160;<span id="projectnumber">v1.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">Simpatico - Simulation Package for Polymer and Molecular Liquids</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Preprocessor macros </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p>Several optional features of Simpatico can be conditionally compiled by defining preprocessor macros when compiling the code.</p>
<h2><a class="anchor" id="System"></a>
How Preprocessor Macros are Defined</h2>
<p>C++ preprocessor macros used in Simpatico fall into groups, depending on which file they are defined in, and which namespace they effect. Those whose names begin with UTIL_ are defined in the files src/compiler.mk and src/util/defines.mk, and appear in source files in all of the Simpatico namespaces (i.e., in the <a class="el" href="namespaceUtil.html" title="Utility classes for scientific computation.">Util</a>, <a class="el" href="namespaceInter.html" title="Classes that define potential energy interaction functions.">Inter</a>, <a class="el" href="namespaceMcMd.html" title="Classes for Monte Carlo (MC) and molecular dynamics (MC) simulation.">McMd</a> or <a class="el" href="namespaceDdMd.html" title="Parallel domain decomposition (DD) molecular dynamics MD simulation.">DdMd</a> namespaces, corresponding to the src/util, src/inter, src/ddMd, and src/ddMd directories). Macros with names that begin with INTER_, which are defined in src/inter/defines.mk, are not used in the <a class="el" href="namespaceUtil.html" title="Utility classes for scientific computation.">Util</a> namespace (the src/util directory), but can appear in the <a class="el" href="namespaceInter.html" title="Classes that define potential energy interaction functions.">Inter</a>, <a class="el" href="namespaceMcMd.html" title="Classes for Monte Carlo (MC) and molecular dynamics (MC) simulation.">McMd</a> and <a class="el" href="namespaceDdMd.html" title="Parallel domain decomposition (DD) molecular dynamics MD simulation.">DdMd</a> namespaces (or the src/inter/, src/mcMd/ and src/dMd/ directories). Macros with names that begin with MCMD_, which are defined in src/mcMd/defines.mk, are used only in the <a class="el" href="namespaceMcMd.html" title="Classes for Monte Carlo (MC) and molecular dynamics (MC) simulation.">McMd</a> namespace. Those whose names begin with DDMD_, which are defined in src/dMd/defines.mk, are used only in the <a class="el" href="namespaceDdMd.html" title="Parallel domain decomposition (DD) molecular dynamics MD simulation.">DdMd</a> namespace.</p>
<p>All preprocessor macros may be defined by activating a line in one the makefile fragments src/compiler.mk, src/util/defines.mk, src/inter/defines.mk, src/mcMd/defines.mk or src/ddMd/defines.mk that defines a makefile variable with the same name as the name of the preprocessor macro. For example, one can define the macro UTIL_DEBUG throughout the source code, by uncommenting the line "UTIL_DEBUG=1$ in src/util/defines.mk. Defining the makefile variable UTIL_DEBUG causes the makefile system to add a string "-DUTIL_DEBUG" to the list of options that is passed to the compiler when compiling any source file, thus defining the preprocessor macro UTIL_DEBUG throughout the source code.</p>
<p>Defining each such preprocessor macro also causes the build system to add an corresponding suffix to the end of the names of all libraries and executables that contain code that is effected by that preprocessor macro. For example, compiling mcSim and mdSim with UTIL_DEBUG defined causes a suffix _g to be added to the names of all libraries and executables. If no other macros are defined, entering "make mcMd" from the src/ directory would create static libraries named libutil_g.a, libinter_g.a, and libmcmd_g.a in the simpatico lib/ directory and executables named mcSim_g.a and mdSim_g.a in the bin/ directory. The use of the suffixes makes it easier for users to retain several different versions of the executable in the same directory, and to invoke different versions by different executable file names. You can look in the Simpatico bin/ directory (or wherever you choose to install the executable) to see the full names of executable files that you have created.</p>
<h2><a class="anchor" id="Macros"></a>
Available Macros</h2>
<p>UTIL_ Macros:</p>
<ul>
<li>UTIL_MPI: Define UTIL_MPI to compile any code that is designed to run on multiple processors. For mcSim and mdSim, defining UTIL_MPI creates a version of the code in which different systems are simulated on different processors. UTIL_MPI is defined automatically if you choose a value for the COMPILIER variable in the file src/compiler.mk that ends in the suffix *_mpi (e.g., gcc_mpi or intel_mpi). UTIL_MPI . Suffix string: _m.</li>
</ul>
<ul>
<li>UTIL_DEBUG: Defining this macro enables many additional internal logic checks that are useful during development, including bounds checking on all of the container class templates. To enable this, uncomment the line that defines "UTIL_DEBUG=1" in src/util/defines.mk. Suffix string: _g.</li>
</ul>
<p>INTER_ Macros (defined in inter/defines.mk):</p>
<ul>
<li>INTER_NOPAIR: Define this to remove all nonbonded pair interactions. This also removes all code associated with the calculation of pair interactions, and all code for creating and managing <a class="el" href="classMcMd_1_1Cell.html" title="A set of Atoms in a small region.">Cell</a> and/or Pair Lists. To disable pair potentials, define INTER_NOPAIR=1 in src/mcMd/defines.mk. Suffix string: _np.</li>
</ul>
<ul>
<li>INTER_ANGLE: Define INTER_ANGLE to enable three-body angle potentials. To enable angle potentials, define INTER_ANGLE=1 in src/mcMd/defines.mk. Suffix string: _a.</li>
</ul>
<ul>
<li>INTER_DIHEDRAL: Define INTER_DIHEDRAL to enable four-body dihedal potentials. To enable this, define INTER_ANGLE=1 in src/mcMd/defines.mk. Suffix string: _d.</li>
</ul>
<ul>
<li>INTER_EXTERNAL: Define this to allow the inclusion of an external one-particle potentials, such as a wall or confining potential, in which the potential energ of each atom depends on its type and position. To enable this, define INTER_EXTERNAL=1 in src/mcMd/defines.mk. Suffix string: _e.</li>
</ul>
<ul>
<li>INTER_TETHER: Define this to allow inclusion of potentials that confine specific individual atoms, e.g., by introducing a potential energy that depends on the distance of each such atom from a specific "anchor" position. To enable, define INTER_TETHER_FLAG=1 in src/mcMd/defines.mk. Suffix string: _t.</li>
</ul>
<p>MCMD_ Macros (defined in mcMd/defines.mk):</p>
<ul>
<li>MCMD_PERTURB: Define this, in addition to UTIL_MPI, to enable free energy perturbation and replica exchange exchange algorithms in the parallel versions of mcSim and mdSim. This allows a sequence of systems with slightly different parameters be controlled by a single parameter file, which defines how statistical weight H/kT depends on a parameter (e.g., either temperature or a parameter in the Hamiltonian H), and assigns a different value of the control parameter to each processor. To enable this, uncomment the line that defines MCMD_PERTURB=1 in src/mcMd/defines.mk. Suffix string: _f.</li>
</ul>
<ul>
<li>MCMD_LINK: Define MCMD_LINK to allow the inclusion of mutable two-body bond potentials that are not included as part of the definitions of molecular species, such as crosslinks between polymers. This enables addition of a <a class="el" href="classMcMd_1_1LinkMaster.html" title="Manages all Link objects in a System.">LinkMaster</a> object to the <a class="el" href="classMcMd_1_1System.html" title="A set of interacting Molecules enclosed by a Boundary.">System</a> object. To enable this, define MCMD_LINK=1 in src/mcMd/defines.mk. Suffix string: _l.</li>
</ul>
<ul>
<li>MCMD_SHIFT: Define this to enable the recording of shifts of atomic coordinates used to map positions into the periodic unit cell in MD (but not MC) simulations. This macro also enables inclusion of the integer shifts in the <a class="el" href="classMcMd_1_1MdConfigIo.html" title="ConfigIo for MD simulations (includes velocities).">MdConfigIo</a> configuration file format. This feature allows a user to reconstruct continuous trajectories of "true" atomic positions from configuration file dumps. This feature only works in MD simulations. To enable this, define MCMD_SHIFT=1 in src/mcMd/defines.mk. Suffix string: _s.</li>
</ul>
<ul>
<li>
<a class="el" href="custom_page.html">Compilation Options</a> (Up)  </li>
<li>
<a class="el" href="boundary_page.html">Unit Cell Type</a> (Next)  </li>
</ul>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Sat Sep 1 2012 12:15:15 for Simpatico by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
