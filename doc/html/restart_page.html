<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Simpatico: Restarting</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simpatico&#160;<span id="projectnumber">v1.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">Simpatico - Simulation Package for Polymer and Molecular Liquids</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Restarting </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p>The -r command line option can be used to restart an mcSim or mdSim simulation, while preserving the full internal state of the simulation. It is also, of course, possible to restart any simulation from a configuration file, but this loses some information about the internal state of statistical accumulators used by on-the-fly diagnostics and the axuiliary state variables used by some MD integrators. No analogous restart capability has been implemented for ddSim simulations: Thus far, these can only be restarted from a configuration file.</p>
<p>In order to restart an mcSim or ddSim simulation, the original simulation must be run using the <a class="el" href="classMcMd_1_1MdWriteRestart.html" title="Periodically write restart file.">MdWriteRestart</a> or <a class="el" href="classMcMd_1_1McWriteRestart.html" title="Periodically write restart file.">McWriteRestart</a> diagnostic, which periodically writes the required data to file. This diagnostic takes a filename parameter which is the base name for the two restart files. The two required files are *.rst file, which is a restart file, and a *.prm file, which is a copy of the parameter file. Both of these files are overwritten repeatedly, so that only the most recent state is available. The <a class="el" href="classMcMd_1_1DumpConfig.html" title="Periodically dump system configuration to a new file.">DumpConfig</a> diagnostic writes configurations to file without overwriting them, and should be used to write configurations for data analysis.</p>
<p>To restart a simulation, one must write a short *.cmd command file. This file must have the same base name as the *.prm and .rst files produced during the original run, and be placed in the same directory (usually the directory from which the program was invoked). The simplest possible *.cmd restart command file looks like this </p>
<div class="fragment"><pre class="fragment">   RESTART   150000
   FINISH
</pre></div><p> The RESTART command causes the program to re-enter the main simulation loop, but sets the initial value of the step counter to the value it had when the *.rst file was written. The RESTART command also bypasses some of the initialization steps that are executed before the loop in a normal SIMULATE command. The integer argument that follows the keyword RESTART is the final value of the step index, at which the loop should terminate. The RESTART command is only valid in a command file that is used when the program is invoked with the RESTART option, and it must be the first line of such a file. The last line must be a FINISH command, as in any command file. Any combination of other commands can be inserted between these two commands.</p>
<p>To restart a simulation, one must invoke the mdSim or mcSim program with the -r option, and supply the common base name of the *.prm, *.rst and *.cmd files as an option argument. Thus, for example, if a previous MC simulation were run using a base name of "restart" for the restart files, one would type </p>
<div class="fragment"><pre class="fragment">   mcSim -r restart
</pre></div><p> to restart the simulation. This causes the program to read the files restart.prm, restart.rst, and restart.cmd, in that order, and to execute the commands in restart.cmd. As already noted, the first command must be a RESTART command.</p>
<ul>
<li>
<a class="el" href="analysis_page.html">Data Analysis</a> (Prev)  </li>
<li>
<a class="el" href="guide_page.html">User Guide</a> (Up)  </li>
<li>
<a class="el" href="multiMcMd_page.html">Multi-system simulations (mcSim and mdSim)</a> (Next)  </li>
</ul>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Aug 31 2012 22:26:38 for Simpatico by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
