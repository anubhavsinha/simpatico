<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Simpatico: 2.3.2 Parameter Files: mdSim and mcSim</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Simpatico
   &#160;<span id="projectnumber">v1.10</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">Simpatico - Simulation Package for Polymer and Molecular Liquids</a>      </li>
      <li class="navelem"><a class="el" href="user_page.html">2 User Guide</a>      </li>
      <li class="navelem"><a class="el" href="user_param_page.html">2.3 Parameter Files</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">2.3.2 Parameter Files: mdSim and mcSim </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="user_param_syntax_page.html">2.3.1 Parameter Files: Syntax</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="user_param_ddmd_page.html">2.3.3 Parameter Files: ddSim</a> (Next) <br/>
</p>
<p>The parameter file formats for mdSim and mcSim simulations are similar in many respects, and so will be discussed together.</p>
<h2><a class="anchor" id="user_param_mcmd_mcExample_section"></a>
Example (for mcSim):</h2>
<p>An example of a parameter file for an mdSim molecular dynamics simulation was shown on the previous page. Here is a corresponding example for an mcSim Monte Carlo simulation: </p>
<div class="fragment"><pre class="fragment">McSimulation{
  FileMaster{
    commandFileName                 commands
    inputPrefix                          in/
    outputPrefix                        out/
  }
  nAtomType                                2
  nBondType                                1
  atomTypes                      A       1.0
                                 B       1.0
  maskedPairPolicy                MaskBonded
  SpeciesManager{

    Homopolymer{
      moleculeCapacity                      50
      nAtom                                  8
      atomType                               0
      bondType                               0
    }

    Homopolymer{
      moleculeCapacity                      50
      nAtom                                  8
      atomType                               1
      bondType                               0
    }
  }
  Random{
    seed                           13451892
  }
  McSystem{
    pairStyle                        LJPair
    bondStyle                  HarmonicBond
    McPairPotential{
      epsilon               1.000000000000e+00  1.300000000000e+00
                            1.300000000000e+00  1.000000000000e+00
      sigma                 1.000000000000e+00  1.000000000000e+00
                            1.000000000000e+00  1.000000000000e+00
      cutoff                1.122460000000e+00  1.122460000000e+00
                            1.122460000000e+00  1.122460000000e+00
      maxBoundary                 cubic  10.5 
    }
    BondPotential{
      kappa                 2.000000000000e+03
      length                1.000000000000e+00
    }
    EnergyEnsemble{
      type                  isothermal
      temperature           1.000000000000e+00
    }
    BoundaryEnsemble{
      type                  rigid
    }
  }
  McMoveManager{

    HybridMdMove{
      probability           0.002000000000e+00
      nStep                                 20
      MdSystem{
        MdPairPotential{
          maxBoundary                 cubic  10.5 
          PairList{
            atomCapacity                        1000
            pairCapacity                       10000
            skin                  3.000000000000e-01
          }
        }
        NveVvIntegrator{
          dt                    5.000000000000e-03
        }
      }
    }

    AtomDisplaceMove{
      probability           0.479000000000e+00
      speciesId                              0
      delta                               0.05
    }

    AtomDisplaceMove{
      probability           0.479000000000e+00
      speciesId                              1
      delta                               0.05
    }

    CfbReptationMove{
      probability           0.020000000000e+00
      speciesId                              0
      nTrial                                20
      hasAutoCorr                            0
    }

    CfbReptationMove{
      probability           0.020000000000e+00
      speciesId                              1
      nTrial                                20
      hasAutoCorr                            0
    }

  }
  AnalyzerManager{
    baseInterval                        1000

    LogProgress{
      interval                         10000
    }

    DumpConfig{
      interval                         1000
      outputFileName            dump/config.
    }

    McEnergyOutput{
      interval                          1000
      outputFileName                  energy
    }

    RadiusGyration{
      interval                          1000
      outputFileName          RadiusGyration
      nSamplePerBlock                     10
      speciesId                            0
    }

  }
  writeRestartInterval             10000
  writeRestartFileName           restart
}
</pre></div><h2><a class="anchor" id="user_param_mcmd_overview_section"></a>
Overview</h2>
<p>The format is shown below for an mcSim file for a code with all potential types enabled at compile time (with bond, angle, dihedral and external potentials). Most parameters are shown in the format "label type" where type is the type of variable expected. Optional parameters are shown in square brackets, using the format [label type = default], where default is the default value assigned to the variable if this line is absent from the parameter file. </p>
<div class="fragment"><pre class="fragment">McSimulation{
  FileMaster{ ... }
  nAtomType       <span class="keywordtype">int</span>
  [nBondType      <span class="keywordtype">int</span> = 0]
  [nAngleType     <span class="keywordtype">int</span> = 0]
  [nDihedralType  <span class="keywordtype">int</span> = 0]
  [hasExternal    <span class="keywordtype">bool</span> = 0]
  atomTypes    string (name)   float (mass)
               ...
  maskedPairPolicy   <span class="keywordtype">string</span>
  SpeciesManager{ ... }
  Random{ ... }
  McSystem{ ... }
  McMoveManager{ ... }
  AnalyzerManager{ ... }
  writeRestartInterval  <span class="keywordtype">int</span>
  writeRestartFileName  <span class="keywordtype">string</span>
}
</pre></div><p> The corresponding format for an mdSim file is: </p>
<div class="fragment"><pre class="fragment">MdSimulation{
  FileMaster{ ... }
  nAtomType        <span class="keywordtype">int</span>
  [nBondType       <span class="keywordtype">int</span> = 0]
  [nAngleType      <span class="keywordtype">int</span> = 0]
  [nDihedralType   <span class="keywordtype">int</span> = 0]
  [hasExternal     <span class="keywordtype">bool</span> = 0]
  atomTypes        string (name)   float (mass)
               ...
  maskedPairPolicy   <span class="keywordtype">string</span>
  SpeciesManager{ ... }
  Random{ ... }
  MdSystem{ ... }
  AnalyzerManager{ ... }
  writeRestartInterval    <span class="keywordtype">int</span>
  writeRestartFileName    <span class="keywordtype">string</span>
}
</pre></div><p> The two formats are similar in most respects. The most important differences are:</p>
<ul>
<li>The main block for an mcSim simulation is an McSimulation block, while the main block for an mdSim simulation is an MdSimulation block.</li>
</ul>
<ul>
<li>For mcSim, the main McSimulation block contains an McSystem subblock, whereas for mdSim, the main block contains an MdSystem subblock.</li>
</ul>
<ul>
<li>For mdSim, the MdSystem block contains a polymorphic subblock associated with the molecular dynamics integrator, which must be a subclass of <a class="el" href="classMcMd_1_1MdIntegrator.html" title="Abstract base for molecular dynamics integrators.">McMd::MdIntegrator</a>. There is no analogous subblock in the MdSystem block of an mcSim param file.</li>
</ul>
<ul>
<li>For mcSim, the McSimulation block contains a McMoveManager subblock that contains polymorphic subblocks associated with different Monte Carlo moves (subclasses of McMd::McMoves). There is no analogous block in an mcSim param file.</li>
</ul>
<p>The following parameters appear in the main block in the format for either type of simulation: </p>
<ul>
<li>
nAtomType: The number of atom types, which are indexed by an integer index with values 0, ..., nAtomType - 1.  </li>
<li>
nBondType: The number of bond types, which are indexed by an integer index with values 0, ..., nBondType - 1.  </li>
<li>
hasExternal: This is a boolean variable that is set to true (1) if an external potential will be used and false (0) otherwise.  </li>
<li>
atomTypes: atomTypes is an array of values of type <a class="el" href="classMcMd_1_1AtomType.html" title="Descriptor for a type of Atom.">McMd::AtomType</a>. The string representation of each atom type consists of a string label (e.g., "A" or "B") followed by a floating point value for the atom mass.  </li>
<li>
maskedPairPolicy: Determines if nonbonded pair interactions between bonded atoms are "masked" (i.e., suppressed), or included. See below for further discussion. </li>
<li>
writeRestartInterval: The interval, in MD time steps or attempted MC moves, between time steps when a restart file is written. </li>
<li>
writeRestartFileName: The base name used for the restart file. </li>
</ul>
<p>The writeRestartInterval and writeRestartFileName parameters are discussed in more detail <a class="el" href="user_restart_page.html">here</a>.</p>
<h2><a class="anchor" id="user_param_mcmd_filemaster_section"></a>
FileMaster</h2>
<p>The FileMaster block is associated with an instance of the class <a class="el" href="classUtil_1_1FileMaster.html" title="A FileMaster manages input and output files for a simulation.">Util::FileMaster</a>. This block contains several string parameters that specify locations of input and output files. The string "commandFileName" is the name of the command file that controls program execution after the parameter file is processed. The "inputPrefix" string is prepended to the names of input configuration files and other input files. The "outputPrefix" string is predended to the names of most output files.</p>
<p>Input and output files can be placed in separate directories by giving directory names for these two prefixes, in which case the prefix strings should end with a backslash (directory separator). In the above example, by setting "inputPrefix" to "in/" and "outputPrefix" to "out/", we have specified that input files should be read from subdirectory "in" and output files should be written to a subdirectory named "out".</p>
<h2><a class="anchor" id="user_param_mcmd_maskPairPolicy_section"></a>
MaskedPairPolicy</h2>
<p>The parameter maskedPairPolicy is represented internally by an instance of the enum <a class="el" href="group__McMd__Chemistry__Module.html#ga43203d681ebb2c62d748de0516d59a82" title="Enumeration of policies for suppressing (&quot;masking&quot;) some pair interactions.">McMd::MaskPolicy</a>. This can have values MaskBonded or MaskNone, which are represented in the parameter file by strings "MaskBonded" or "maskBonded" and "MaskNone" or "maskNone", respectively. The value "MaskBonded" indicates that nonbonded pair interactions between bonded atoms should be suppressed or "masked", i.e., there should be no non-bonded pair interaction between pairs of atoms that are directly connected by a two-body covalent bond. The value "MaskNone" indicates, conversely, that the nonbonded pair interaction should operate between any two atoms that are separated by a distance less than the appropriate pair potential cutoff length.</p>
<h2><a class="anchor" id="user_param_random_section"></a>
Random</h2>
<p>The Random block is associated with a <a class="el" href="classUtil_1_1Random.html" title="Random number generator.">Util::Random</a> object. The only parameter this block is a "seed" for the Mersenne-Twister random number generator. The seed value must be an unsigned (non-negative) 32 bit integer, in the range 0 &lt;= seed &lt; 4294967296.</p>
<h2><a class="anchor" id="user_param_mcmd_species_manager_section"></a>
SpeciesManager</h2>
<p>The SpeciesManager block contains a sequence of one or more polymorphic blocks, each of which contains the appropriate file format for a subclass of <a class="el" href="classMcMd_1_1Species.html" title="A Species represents a set of chemically similar molecules.">McMd::Species</a>. Each such subclass describes a different class of molecules, and so requires a different file format. Instances of the base class <a class="el" href="classMcMd_1_1Species.html" title="A Species represents a set of chemically similar molecules.">McMd::Species</a> use a file format that is flexible enough to describe any molecular structure.</p>
<h2><a class="anchor" id="user_param_mcmd_analyzer_manager_section"></a>
AnalyzerManager</h2>
<p>The AnalyzerManager block contains a single integer parameter named baseInterval, followed by a sequence of polymorphic blocks associated with subclasses of <a class="el" href="classMcMd_1_1Analyzer.html" title="Abstract base for periodic output and/or analysis actions.">McMd::Analyzer</a>. Most subclasses of <a class="el" href="classMcMd_1_1Analyzer.html" title="Abstract base for periodic output and/or analysis actions.">McMd::Analyzer</a> implement an operation that calculates one or more physical properties and either outputs data or carries out a statistical analysis, or both. Each analyzer has an parameter named "interval" that specifies how often this operation should be invoked: Each analyzer is invoked when the global step counter is an integer multiple of its interval parameter. The interval for each analyzer must be a multiple of baseInterval.</p>
<h2><a class="anchor" id="user_param_mcmd_mcsystem_section"></a>
McSystem and MdSystem</h2>
<p>The format for an McSystem subblock of an MdSimulation is: </p>
<div class="fragment"><pre class="fragment">  McSystem{
    pairStyle         <span class="keywordtype">string</span>
    [bondStyle        string]
    [angleStyle       string]
    [dihedralStyle    string]
    [externalStyle    string]
    McPairPotential{ ... }
    BondPotential{ ... }
    EnergyEnsemble{ ... }
    BoundaryEnsemble{ ... }
  }
</pre></div><p> The format for an MdSystem subblock of an MdSimulation block is: </p>
<div class="fragment"><pre class="fragment">  McSystem{
    pairStyle        <span class="keywordtype">string</span>
    bondStyle        <span class="keywordtype">string</span>
    angleStyle       <span class="keywordtype">string</span>
    dihedralStyle    <span class="keywordtype">string</span>
    externalStyle    <span class="keywordtype">string</span>
    MdPairPotential{ ...  }
    [BondPotential{ ...  }]
    [EnergyEnsemble{ ...  }]
    [BoundaryEnsemble{ ...  }]
    MdIntegrator{ ...  }
  }
</pre></div><p> The both types of System, values of the potential energy "style" parameters (pairStyle, bondStyle, etc.) are strings that specify the names of "interaction" classes that implement specific potential energy functions for nonbonded pair, covalent and external potentials, respectively. For example, pairStyle may be assigned a valueLJPair, indicating the LJPair interaction class defined in the src/inter/pair directory. Interaction classes of different types are in different subdirectories of the src/inter directory tree.</p>
<p>For bond, angle and dihedral covalent potentials, the style string (e.g., bondStyle) and potential energy block (e.g., BondPotential) must be present if and only if the corresponding type of potential energy has been enabled by explicitly assigning a nonzero value to nBondType, nAngleType, or nDihedralType parameters, respectively, in the main McSimulation or MdSimulation block. Similarly, the externalStyle parameter and ExternalPotential block must be present if an only if the external potential has been explicitly assigned a value of true (1). These style string and potential energy entries may not appear if the corresponding potential energy has been disabled by setting the corresonding n(Potential)Type variable to its default value of zero for covalent potentials or by setting hasExternal to its default value of false (0), or by not including these variables in the parameter file.</p>
<p>The only differences between an MdSystem block and an McSystem block are thus:</p>
<ul>
<li>An MdSystem contains an MdPairPotential block (<a class="el" href="classMcMd_1_1MdPairPotential.html" title="An PairPotential for MD simulation.">McMd::MdPairPotential</a>) where an McSystem contains an McPairPotential block (<a class="el" href="classMcMd_1_1McPairPotential.html" title="A PairPotential for MC simulations (abstract).">McMd::McPairPotential</a>).</li>
</ul>
<ul>
<li>An MdSystem block contains an additional <a class="el" href="classMcMd_1_1MdIntegrator.html" title="Abstract base for molecular dynamics integrators.">McMd::MdIntegrator</a> block. In the above description of the MdSystem block, MdIntegrator{ ... } denotes a polymorphic block that must contain the file format for a subclass of the <a class="el" href="classMcMd_1_1MdIntegrator.html" title="Abstract base for molecular dynamics integrators.">McMd::MdIntegrator</a> base class, with an opening line that specifies the desired subclass (e.g., NvtIntegrator{...}).</li>
</ul>
<h2><a class="anchor" id="user_param_mdpair_section"></a>
Pair Potentials</h2>
<p>MC and MD simulations use the same potential classes for all covalent bond potentials, and for angle, and dihedral, and external potentials (if enabled). Different classes are used to evaluate pair potentials, because different data structures are used to keep track of neighbors in MC and MD simulations. The <a class="el" href="classMcMd_1_1McPairPotential.html" title="A PairPotential for MC simulations (abstract).">McMd::McPairPotential</a> class uses a cell list (a instance of <a class="el" href="classMcMd_1_1CellList.html" title="A cell list for Atom objects in a periodic system boundary.">McMd::CellList</a>), while an MdPairPotential uses a Verlet pair list (an instance of Util::PairList). The <a class="el" href="classMcMd_1_1PairList.html" title="A Verlet neighbor list.">McMd::PairList</a> class also uses an internal cell list, which is used periodically rebuild the pair list, but is not used for force or energy calculations.</p>
<p>In an McSystem, the McPairPotential subblock contains the parameters required by a specific pairStyle (in this case, by the LJPair style), followed by a maxBoundary parameter. The maxBoundary parameter describes the dimensions of the largest expected dimensions of the periodic boundary. The maxBoundary parameter is used to allocate memory for a cell list before the simulation begins. Only enough memory is allocated for the number of cells required for the boundary condition specified by maxBoundary, using a cell size that must be at least as large as the largest pair potential cutoff parameter. In NVE and NVT simulations, maxBoundary can safely be chosen to be equal be equal to the actual rigid boundary (which is specified in an input configuration file). In NPT and NPH simulations, however, maxBoundary must be chosen large enough to guarantee that adequate memory is allocated to accomodate any fluctuation in system size that may occur during a simulation. The CellList does not occupy a large amount of memory, so their is little cost in choosing a maxBoundary that is larger than is likely to be needed.</p>
<p>In an MdSystem, the MdPairPotential block contains the same parameters as for an McPotential, followed by additional parameters required to construct a Verlet pair list. The format is: </p>
<div class="fragment"><pre class="fragment">   MdPairPotential{
      (Interaction parameters)
      maxBoundary   [<span class="keywordtype">string</span> (boundary type)]  [float (dimension)] ...
      PairList{ ... }
   }
</pre></div><p> The format of the PairList subblock is: </p>
<div class="fragment"><pre class="fragment">      PairList{
        atomCapacity    [int]
        pairCapacity    [int]
        skin            [float]
      }
</pre></div><p> The value of atomCapacity is the maximum number of distinct atoms. The value of pairCapacity is the maximum number of distinct pairs within the Verlet list cutoff range. The Verlet list cutoff range is given by the sum of the largest pair potential cutoff plus the value of the "skin" parameter.</p>
<p>The pair list in an MD simulation is rebuilt whenever one or more atoms in the simulation has moved a distance skin/2 or greater since the last time the pair list was rebuilt. Increasing the value chosen for the "skin" parameter will thus generally cause the pair list to be rebuilt less frequently, but will increase the number of pairs retained in the pair list, and thus increase the cost of evaluating nonbonded forces that once every time step. There is thus an optimum value for each system. If the optimum value is not adequately known from previous experience, it can be identified by timing a few short trial simulations on a particular system with different values for the skin parameter.</p>
<h2><a class="anchor" id="user_param_mcmd_ensemble_section"></a>
Energy and Boundary Ensembles</h2>
<p>The EnergyEnsemble and BoundaryEnsemble blocks are associated with instances of <a class="el" href="classUtil_1_1EnergyEnsemble.html" title="A statistical ensemble for energy.">Util::EnergyEnsemble</a> and <a class="el" href="classUtil_1_1BoundaryEnsemble.html" title="Statistical ensemble for changes in the periodic unit cell size.">Util::BoundaryEnsemble</a> respectively. The EnergyEnsemble block specifies the type of statistical ensemble for energy fluctuations, which can be "adiabatic" (i.e., constant energy) or "isothermal". If the ensemble type is isothermal (as in the above example for mcSim), this this block must also contains a "temperature" parameter. Only "isothermal" makes sense for an MC simulation, but "adiabatic" ensemble is used for MD integrators that conserve energy or (for constant pressure ensembles) enthalpy. For isothermal simulations, temperature is specified as a value for kT, in units of energy. The BoundaryEnsemble block has a type parameter that can be either "rigid" (i.e., constant volume) or "isobaric". If this type is isobaric, the type parameter must be followed by a "pressure" parameter whose value specifies the target pressure in units of energy per volume.</p>
<p><br/>
 <a class="el" href="user_param_syntax_page.html">2.3.1 Parameter Files: Syntax</a> (Prev) &#160; &#160; &#160; &#160; <a class="el" href="user_param_page.html">2.3 Parameter Files</a> (Up) &#160; &#160; &#160; &#160; <a class="el" href="user_param_ddmd_page.html">2.3.3 Parameter Files: ddSim</a> (Next) </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.3-->
<!-- start footer part -->


<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 1 2014 21:58:12 for Simpatico by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
